<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Paneli - Aroma Shop</title>
    <link rel="icon" href="img/Fevicon.png" type="image/png">
    <link rel="stylesheet" href="vendors/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="vendors/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="vendors/themify-icons/themify-icons.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <!--sosyal medya iconları için-->
    <style>
        .social-links {
            display: flex;
            gap: 15px;
        }

        .social-btn {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 45px;
            height: 45px;
            background-color: #002147;
            border-radius: 50%;

            text-decoration: none;
            transition: transform 0.2s ease;
        }

        .social-btn i {
            font-size: 20px;
            color: #175fb1;
        }

        /*hover*/
        .social-btn:hover {
            transform: translateY(-3px);
            background-color: #f0f0f0;
        }
    </style>

    <style>
        .admin-card {
            background: #fff;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .stat-card {
            color: #fff;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card h3 {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 5px;
            color: #fff;
        }

        .stat-card p {
            margin: 0;
            opacity: 0.9;
            font-size: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-card i {
            position: absolute;
            right: 20px;
            bottom: 20px;
            font-size: 45px;
            opacity: 0.3;
        }

        .bg-blue {
            background: linear-gradient(45deg, #384aeb, #5d6ff3);
        }

        .bg-green {
            background: linear-gradient(45deg, #28a745, #4bdd6d);
        }

        .bg-orange {
            background: linear-gradient(45deg, #ffc107, #ffdb66);
        }

        .bg-red {
            background: linear-gradient(45deg, #dc3545, #f56e7b);
        }

        .nav-tabs .nav-link {
            color: #555;
            font-weight: 600;
        }

        .nav-tabs .nav-link.active {
            color: #384aeb;
            border-color: #dee2e6 #dee2e6 #fff;
        }

        .product-thumb {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 4px;
        }

        /* --- ÖZEL DOSYA YÜKLEME BUTONLARI --- */
        .file-upload-wrapper {
            position: relative;
            margin-bottom: 15px;
        }

        /* Gerçek input'u gizle ama işlevsel bırak */
        .file-upload-wrapper input[type="file"] {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
            z-index: 2;
        }

        /* Bizim tasarladığımız buton */
        .custom-file-btn {
            display: inline-block;
            background-color: #f1f6f7;
            color: #384aeb;
            border: 1px dashed #384aeb;
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            text-align: center;
        }

        .file-upload-wrapper:hover .custom-file-btn {
            background-color: #384aeb;
            color: #fff;
        }

        /* Seçilen dosya adı */
        .file-name-display {
            display: block;
            margin-top: 5px;
            font-size: 12px;
            color: #777;
            font-style: italic;
            text-align: center;
        }
    </style>
</head>

<body class="bg-light">
    <!--================ Start header menu Area  =================-->
    <header class="header_area">
        <div class="main_menu">
            <nav class="navbar navbar-expand-lg navbar-light bg-white">
                <div class="container">
                    <a class="navbar-brand logo_h" href="index.html">
                        <img src="img/logo.png" alt="">
                    </a>

                    <button class="navbar-toggler" type="button" data-toggle="collapse"
                        data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation" style="border: none; outline: none;">
                        <i class="fas fa-bars" style="color: #384aeb; font-size: 24px;"></i>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="nav navbar-nav menu_nav ml-auto">
                            <li class="nav-item"><a class="nav-link" href="index.html">Ana Sayfa</a></li>
                            <li class="nav-item"><a class="nav-link" href="duyurular.html">Duyurular Sayfası</a></li>
                            <li class="nav-item"><a class="nav-link" href="categoryttumalbum.html">Ürünler Sayfası</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    <!--================ end header menu Area  =================-->

    <div class="container mt-5">
        <div class="section-intro pb-40px text-center">
            <h2>Admin <span class="section-intro__style">Yönetim Paneli</span></h2>
        </div>
        <!--================ admin paneli sekme menusu =================-->
        <ul class="nav nav-tabs mb-4" id="adminTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="dash-tab" data-toggle="tab" href="#dashboardPanel" role="tab"><i
                        class="fas fa-chart-pie mr-2"></i>
                    İstatistikler</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="duyuru-tab" data-toggle="tab" href="#duyuruPanel" role="tab"><i
                        class="fas fa-bullhorn mr-2"></i> Duyuru
                    İşlemleri</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="urun-tab" data-toggle="tab" href="#urunPanel" role="tab"><i
                        class="fas fa-music mr-2"></i>Ürün İşlemleri</a>
            </li>
        </ul>
        <!--================ admin paneli sekme menusu bitiş =================-->
        <div class="tab-content" id="myTabContent">
            <!--================ dashboard paneli başlangıcı =================-->
            <div class="tab-pane fade show active" id="dashboardPanel" role="tabpanel">
                <div class="row">
                    <div class="col-md-3">
                        <div class="stat-card bg-blue">
                            <i class="fas fa-compact-disc"></i>
                            <h3 id="statTotalProduct">0</h3>
                            <p>Toplam Albüm</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="stat-card bg-green">
                            <i class="fas fa-bullhorn"></i>
                            <h3 id="statTotalDuyuru">0</h3>
                            <p>Aktif Duyuru</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="stat-card bg-orange">
                            <i class="fas fa-users"></i>
                            <h3>1,452</h3>
                            <p>Kayıtlı Üye</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="stat-card bg-red">
                            <i class="fas fa-dollar-sign"></i>
                            <h3>$18,500</h3>
                            <p>Toplam Ciro</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-8">
                        <div class="admin-card">
                            <h4><i class="ti-bar-chart"></i> Aylık Satış İstatistikleri (2025)</h4>
                            <canvas id="salesChart"></canvas>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="admin-card">
                            <h4><i class="ti-pie-chart"></i> Kategori Dağılımı</h4>
                            <canvas id="categoryChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <!--================ dashboard paneli bitişi =================-->

            <!--================ duyuru paneli başlangıcı =================-->
            <div class="tab-pane fade" id="duyuruPanel" role="tabpanel">
                <div class="row">
                    <div class="col-lg-4">
                        <div class="admin-card">
                            <h4>Duyuru Ekle</h4>
                            <hr>
                            <form id="addDuyuruForm">
                                <div class="form-group">
                                    <label>Başlık</label>
                                    <input type="text" class="form-control" id="d_title" required>
                                </div>
                                <div class="form-group">
                                    <label>Tarih</label>
                                    <input type="date" class="form-control" id="d_date" required>
                                </div>
                                <div class="form-group">
                                    <label>İçerik</label>
                                    <textarea class="form-control" id="d_content" rows="2" required></textarea>
                                </div>

                                <div class="form-group">
                                    <label>Duyuru Görseli</label>
                                    <div class="file-upload-wrapper">
                                        <input type="file" id="d_img_file" accept="image/*"
                                            onchange="updateFileName(this, 'img_name_display')">
                                        <div class="custom-file-btn">
                                            <i class="ti-image"></i> Görsel Seç
                                        </div>
                                        <span id="img_name_display" class="file-name-display">Dosya seçilmedi</span>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label>Ek Dosya (PDF / Word)</label>
                                    <div class="file-upload-wrapper">
                                        <input type="file" id="d_doc_file" accept=".pdf,.doc,.docx"
                                            onchange="updateFileName(this, 'doc_name_display')">
                                        <div class="custom-file-btn">
                                            <i class="ti-clip"></i> Dosya Seç
                                        </div>
                                        <span id="doc_name_display" class="file-name-display">Dosya seçilmedi</span>
                                    </div>
                                </div>

                                <button type="submit" class="button button--active button-sm w-100">Yayınla</button>
                            </form>
                        </div>
                    </div>
                    <div class="col-lg-8">
                        <div class="admin-card">
                            <h4>Yayındaki Duyurular</h4>
                            <table class="table table-sm">
                                <thead>
                                    <tr>
                                        <th>Görsel</th>
                                        <th>Başlık</th>
                                        <th>Tarih</th>
                                        <th>Ek Dosya</th>
                                        <th>Sil</th>
                                    </tr>
                                </thead>
                                <tbody id="duyuruList"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!--================ duyuru paneli bitişi =================-->

            <!--================ ürün paneli başlangıcı =================-->
            <div class="tab-pane fade" id="urunPanel" role="tabpanel">
                <div class="row">
                    <div class="col-lg-4">
                        <div class="admin-card">
                            <h4><i class="ti-plus"></i> Ürün Ekle</h4>
                            <hr>
                            <form id="addUrunForm">
                                <div class="form-group"><label>Albüm Adı</label><input type="text" class="form-control"
                                        id="u_name" required></div>
                                <div class="form-group"><label>Sanatçı</label><input type="text" class="form-control"
                                        id="u_cat"></div>
                                <div class="form-group"><label>Fiyat ($)</label><input type="number"
                                        class="form-control" id="u_price"></div>
                                <div class="form-group"><label>Resim Yolu</label><input type="text" class="form-control"
                                        id="u_img" value="album_img/stok.jpg"></div>
                                <button type="submit" class="button button--active button-sm w-100">Ürünü Ekle</button>
                            </form>
                        </div>
                    </div>
                    <div class="col-lg-8">
                        <div class="admin-card">
                            <h4>Mevcut Ürün Listesi</h4>
                            <div class="table-responsive" style="max-height: 600px; overflow-y: auto;">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Görsel</th>
                                            <th>Albüm Adı</th>
                                            <th>Fiyat</th>
                                            <th>İşlem</th>
                                        </tr>
                                    </thead>
                                    <tbody id="urunList"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--================ ürün paneli bitişi =================-->
        </div>
    </div>
    <!--================ Start footer Area  =================-->
    <footer class="footer">
        <div class="footer-area">
            <div class="container">
                <div class="row section_gap">

                    <!-- Mission -->
                    <div class="col-lg-3 col-md-6 col-sm-6">
                        <div class="single-footer-widget tp_widgets">
                            <h4 class="footer_title large_title">Biz Kimiz?</h4>
                            <p>
                                Aroma, dünya müziğinin en sevilen yabancı albümlerini kolayca bulup
                                keşfedebileceğiniz modern ve kullanıcı dostu bir albüm satış platformudur.
                            </p>
                        </div>
                    </div>

                    <!-- Quick Links -->
                    <div class="offset-lg-1 col-lg-2 col-md-6 col-sm-6">
                        <div class="single-footer-widget tp_widgets">
                            <h4 class="footer_title">Hızlı Linkler</h4>
                            <ul class="list">
                                <li><a href="index.html">Ana Sayfa</a></li>
                                <li><a href="categoryttumalbum.html">Ürünler</a></li>
                                <li><a href="duyurular.html">Duyurular</a></li>
                                <li><a href="about.html">Hakkımızda</a></li>
                                <li><a href="contact.html">İletişim</a></li>
                                <li><a href="lojistik.html">Lojistik</a></li>
                                <li><a href="musteri-iliskileri.html">Müşteri İlişkileri</a></li>
                                <li><a href="login.html">Giriş</a></li>
                                <li><a href="register.html">Kayıt</a></li>
                            </ul>
                        </div>
                    </div>
                    <!-- Contact + Social -->
                    <div class="offset-lg-1 col-lg-3 col-md-6 col-sm-6">
                        <div class="single-footer-widget tp_widgets">
                            <h4 class="footer_title">İletişim</h4>
                            <div class="ml-40">

                                <p class="sm-head">
                                    <span class="fa fa-location-arrow"></span>
                                    Adres
                                </p>
                                <p>Kocaeli, Türkiye <br>Cumhuriyet Cd. İzmit Merkez</p>

                                <p class="sm-head">
                                    <span class="fa fa-phone"></span>
                                    Telefon
                                </p>
                                <p>
                                    +90 555 555 55 55 <br>
                                    +90 212 555 55 55
                                </p>

                                <p class="sm-head">
                                    <span class="fa fa-envelope"></span>
                                    E-mail
                                </p>
                                <p>
                                    info@aroma-music.com <br>
                                    www.aroma-music.com
                                </p>

                                <p class="sm-head">
                                    <span class="fa fa-share-alt"></span>
                                    Sosyal Medya
                                </p>
                                <div class="social-wrapper">
                                    <div class="social-links">

                                        <a href="https://www.facebook.com/kou92official/?locale=tr_TR" target="_blank"
                                            class="social-btn">
                                            <i class="fab fa-facebook-f"></i>
                                        </a>

                                        <a href="https://www.instagram.com/kou92official/" target="_blank"
                                            class="social-btn">
                                            <i class="fab fa-instagram"></i>
                                        </a>

                                        <a href="https://x.com/kou92official" target="_blank" class="social-btn">
                                            <i class="fa-brands fa-x-twitter"></i>
                                        </a>

                                        <a href="https://www.youtube.com/c/kocaeli%C3%BCniversitesi" target="_blank"
                                            class="social-btn">
                                            <i class="fab fa-youtube"></i>
                                        </a>

                                    </div>
                                </div>

                                <p class="sm-head" style="margin-top: 15px;">
                                    <span class="fa fa-code"></span>
                                    Tasarım
                                </p>
                                <p>Bu web sitesi: <strong>Şevval Ceren Yıldız</strong> tarafından tasarlanmıştır.</p>

                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="footer-bottom">
                <div class="container">
                    <p class="footer-text text-center">
                        ©
                        <script>document.write(new Date().getFullYear());</script>
                        Aroma Albüm Satış Sitesi – Tüm Hakları Saklıdır.
                    </p>
                </div>
            </div>
        </div>
    </footer>
    <!--================End footer Area  =================-->
    <script src="vendors/jquery/jquery-3.2.1.min.js"></script>
    <script src="vendors/bootstrap/bootstrap.bundle.min.js"></script>

    <script>
        // Dosya ismini güncelleme fonksiyonu
        function updateFileName(input, spanId) {
            var fileName = input.files[0] ? input.files[0].name : "Dosya seçilmedi";
            document.getElementById(spanId).innerText = fileName;
        }
        // Sayfa yüklendiğinde gerekli başlangıç fonksiyonlarını çalıştır
        $(document).ready(function () {
            initDuyurular();
            initUrunler();
            renderCharts();
            updateStats();

            // --- ürün ekleme ---
            $('#addUrunForm').on('submit', function (e) {
                e.preventDefault();
                let urunler = JSON.parse(localStorage.getItem('aroma_urunler')) || [];
                urunler.unshift({
                    id: Date.now(),
                    name: $('#u_name').val(),
                    category: $('#u_cat').val(),
                    price: $('#u_price').val(),
                    img: $('#u_img').val()
                });
                localStorage.setItem('aroma_urunler', JSON.stringify(urunler));
                renderUrunList();
                updateStats();
                $('#addUrunForm')[0].reset();
                alert('Ürün eklendi!');
            });

            // --- duyuru ekleme ---
            $('#addDuyuruForm').on('submit', function (e) {
                e.preventDefault();

                // Resim
                let imgPath = 'album_img/stok.jpg';
                const imgInput = document.getElementById('d_img_file');
                if (imgInput.files.length > 0) {
                    imgPath = 'album_img/' + imgInput.files[0].name;
                }

                // Belge
                let docData = null;
                const docInput = document.getElementById('d_doc_file');
                if (docInput.files.length > 0) {
                    const file = docInput.files[0];
                    let icon = 'fa-file-alt';
                    if (file.name.endsWith('.pdf')) icon = 'fa-file-pdf';
                    if (file.name.endsWith('.doc') || file.name.endsWith('.docx')) icon = 'fa-file-word';

                    docData = { name: file.name, url: '#', icon: icon };
                }

                let duyurular = JSON.parse(localStorage.getItem('aroma_duyurular')) || [];
                duyurular.push({
                    id: Date.now(),
                    title: $('#d_title').val(),
                    date: $('#d_date').val(),
                    content: $('#d_content').val(),
                    img: imgPath,
                    document: docData
                });

                localStorage.setItem('aroma_duyurular', JSON.stringify(duyurular));
                renderDuyuruList();
                updateStats();
                $('#addDuyuruForm')[0].reset();

                // Dosya isimlerini sıfırla
                $('#img_name_display').text("Dosya seçilmedi");
                $('#doc_name_display').text("Dosya seçilmedi");

                alert('Duyuru yayınlandı!');
            });
        });

        // Satış ve Kategori grafiklerini Chart.js ile oluştururma 
        function renderCharts() {
            const ctx1 = document.getElementById('salesChart').getContext('2d');
            new Chart(ctx1, {
                type: 'bar',
                data: {
                    labels: ['Ocak', 'Şubat', 'Mart', 'Nisan', 'Mayıs', 'Haziran'],
                    datasets: [{
                        label: 'Satış', data: [65, 59, 80, 81, 156, 105],
                        backgroundColor: '#384aeb'
                    }]
                }
            });
            const ctx2 = document.getElementById('categoryChart').getContext('2d');
            new Chart(ctx2, {
                type: 'doughnut',
                data: {
                    labels: ['Pop', 'Rock', 'K-Pop', 'R&B'],
                    datasets: [{
                        data: [40, 20, 30, 10],
                        backgroundColor: ['#384aeb', '#ffc107', '#dc3545', '#28a745']
                    }]
                }
            });
        }
        //Dashboard üzerindeki toplam sayı kartlarını günceller
        function updateStats() {
            let urunler = JSON.parse(localStorage.getItem('aroma_urunler')) || [];
            let duyurular = JSON.parse(localStorage.getItem('aroma_duyurular')) || [];
            $('#statTotalProduct').text(urunler.length);
            $('#statTotalDuyuru').text(duyurular.length);
        }

        //duyuru verileriniLocalStorage'dan çeker
        function initDuyurular() {
            let duyurular = JSON.parse(localStorage.getItem('aroma_duyurular'));

            // Eğer veri yoksa veya boşsa, Anasayfandaki verileri yükle
            if (!duyurular || duyurular.length === 0) {
                duyurular = [
                    {
                        id: 1,
                        title: "Poppy – Empty Hands Albümü Ön Siparişte!",
                        date: "2025-11-28",
                        content: "Poppy'nin merakla beklenen yeni stüdyo albümü 'Empty Hands' için geri sayım başladı. 23 Ocak 2026 çıkış tarihli albüm ön siparişe açıldı. İlk 100 siparişe poster hediye!",
                        img: "album_img/empty.jpg",
                        document: { name: "indirim.pdf", icon: "fa-file-pdf" }
                    },
                    {
                        id: 2,
                        title: "Yeni Albüm Stokları Geldi",
                        date: "2025-11-24",
                        content: "Müzikseverlerin yoğun ilgisi nedeniyle tükenen birçok favori albüm, bu sabah itibarıyla depolarımıza tekrar giriş yaptı. Özellikle 'Ruby' albümü stoklarda!",
                        img: "album_img/stok.jpg",
                        document: null
                    },
                    {
                        id: 3,
                        title: "Hafta Sonu Kampanyası (2 Al 1 Öde)",
                        date: "2025-11-25",
                        content: "Bu hafta sonuna özel kaçırılmayacak bir fırsat seni bekliyor. Seçili sanatçıların (Taylor Swift, The Weeknd) favori albümlerinden sepetine 3 tane ekle, sadece 2 tanesinin ücretini öde!",
                        img: "album_img/kampanya.jpg",
                        document: null
                    },
                    {
                        id: 4,
                        title: "75$ Üzeri Alışverişe Kargo Ücretsiz",
                        date: "2025-11-27",
                        content: "Online mağazada geçerli ücretsiz kargo kampanyası başladı. Sepet tutarınız 75$ ve üzerine ulaştığında, kargo ücreti otomatik olarak tarafımızdan karşılanmaktadır.",
                        img: "album_img/kargo.jpg",
                        document: null
                    },
                    {
                        id: 5,
                        title: "100$ Üzeri Alışverişe %10 İndirim",
                        date: "2025-11-22",
                        content: "Belirli ürünlerde geçerli büyük fırsat! Sepet toplamınız 100$ ve üzerine ulaştığında, toplam tutar üzerinden anında %10 indirim kazanacaksınız. Kupon kodu girmenize gerek yok, sistem otomatik düşer.",
                        img: "album_img/indirim.jpg",
                        document: { name: "basin_bulteni.docx", icon: "fa-file-word" }
                    }
                ];
                localStorage.setItem('aroma_duyurular', JSON.stringify(duyurular));
            }
            renderDuyuruList();
        }
        //duyuruları tarihe göre sıralar
        function renderDuyuruList() {
            let duyurular = JSON.parse(localStorage.getItem('aroma_duyurular')) || [];
            let html = '';
            duyurular.sort((a, b) => new Date(b.date) - new Date(a.date));
            duyurular.forEach(item => {
                let docBadge = item.document ?
                    `<span class="badge badge-light border"><i class="fas ${item.document.icon} text-primary"></i> Dosya Var</span>` :
                    '<span class="text-muted small">-</span>';

                html += `<tr><td><img src="${item.img}" class="product-thumb"></td><td>${item.title}</td><td>${item.date}</td><td>${docBadge}</td><td><button class="btn btn-danger btn-sm" onclick="deleteItem('aroma_duyurular', ${item.id})"><i class="fas fa-trash"></i> Sil</button></td></tr>`;
            });
            $('#duyuruList').html(html);
        }
        //ürün verilerini LocalStorage'dan çeker
        function initUrunler() {
            let urunler = JSON.parse(localStorage.getItem('aroma_urunler'));

            if (!urunler || urunler.length === 0) {
                urunler = [{ "id": 1, "name": "Brat", "category": "Charli XCX", "price": "20.00", "img": "album_img/charlie/brat.jpeg" }, { "id": 2, "name": "Midnights", "category": "Taylor Swift", "price": "24.99", "img": "album_img/taylor'album/midnights.jpg" }, { "id": 3, "name": "Beautiful Chaos", "category": "Katseye", "price": "20.00", "img": "album_img/katseye.jpeg" }, { "id": 4, "name": "GUTS", "category": "Olivia Rodrigo", "price": "22.00", "img": "album_img/oliviarodrigo.jpeg" }, { "id": 5, "name": "Hurry Up Tomorrow", "category": "The Weeknd", "price": "22.00", "img": "album_img/theweeknd.jpeg" }, { "id": 6, "name": "Mayhem", "category": "Lady Gaga", "price": "24.00", "img": "album_img/207509-lady-gaga-mayhem.jpg" }, { "id": 7, "name": "Ruby", "category": "Jennie", "price": "24.99", "img": "album_img/jennie/jenniealbum.jpeg" }, { "id": 8, "name": "The Tortured Poets Department", "category": "Taylor Swift", "price": "27.99", "img": "album_img/taylor'album/thetorturedpoetsdep.jpeg" }, { "id": 9, "name": "Hit Me Hard and Soft", "category": "Billie Eilish", "price": "24.99", "img": "album_img/billie/billiealbum.jpeg" }, { "id": 10, "name": "Layover", "category": "V", "price": "21.99", "img": "album_img/Layover.jpeg" }, { "id": 11, "name": "Alligator Bites Never Heal", "category": "Doechii", "price": "20.00", "img": "album_img/doechii.jpeg" }, { "id": 12, "name": "Favourite Worst Nightmare", "category": "Arctic Monkeys", "price": "21.99", "img": "album_img/arcticmonkeys/fwn.jpeg" }, { "id": 13, "name": "After Hours", "category": "The Weeknd", "price": "23.99", "img": "album_img/afterhours.jpeg" }, { "id": 14, "name": "Sour", "category": "Olivia Rodrigo", "price": "21.99", "img": "album_img/sour.jpeg" }, { "id": 15, "name": "Supernatural", "category": "NewJeans", "price": "20.99", "img": "album_img/supernatural.jpeg" }, { "id": 16, "name": "how i'm feeling now", "category": "Charli XCX", "price": "24.00", "img": "album_img/charlie/how.jpeg" }, { "id": 17, "name": "Get Up", "category": "NewJeans", "price": "19.99", "img": "album_img/getup.jpeg" }, { "id": 18, "name": "Don't Smile at Me", "category": "Billie Eilish", "price": "17.99", "img": "album_img/billie/dsae.jpeg" }];

                localStorage.setItem('aroma_urunler', JSON.stringify(urunler));
            }

            renderUrunList();
        }
        //urun verilerini çeker
        function renderUrunList() {
            let urunler = JSON.parse(localStorage.getItem('aroma_urunler')) || [];
            let html = '';
            urunler.forEach(item => {
                html += `<tr><td><img src="${item.img}" class="product-thumb"></td><td><strong>${item.name}</strong><br><small>${item.category}</small></td><td>$${item.price}</td><td><button class="btn btn-danger btn-sm" onclick="deleteItem('aroma_urunler', ${item.id})"><i class="fas fa-trash"></i> Sil</button></td></tr>`;
            });
            $('#urunList').html(html);
        }
        //Verilen key ve id'ye göre öğeyi siler
        function deleteItem(key, id) {
            if (confirm('Silinsin mi?')) {
                let items = JSON.parse(localStorage.getItem(key)) || [];
                items = items.filter(i => i.id !== id);
                localStorage.setItem(key, JSON.stringify(items));
                if (key === 'aroma_urunler') renderUrunList(); else renderDuyuruList();
                updateStats();
            }
        }
    </script>
</body>

</html>